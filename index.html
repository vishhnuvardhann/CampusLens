<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CampusLens: AR Navigation</title>

    <!-- A-Frame & AR.js -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <!-- Google Fonts: Orbitron for Sci-Fi look -->
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;500;700&display=swap"
        rel="stylesheet">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css">
</head>

<body style="margin: 0; overflow: hidden;">

    <!-- Futuristic HUD Overlay -->
    <div id="ar-hud">

        <!-- Loading Screen -->
        <div id="loader" class="loader-overlay">
            <div class="loader-content">
                <div class="spinner"></div>
                <div class="loading-text">INITIALIZING SYSTEMS...</div>
            </div>
        </div>

        <!-- Top Status Bar -->
        <div class="hud-top-bar">
            <div class="system-status">
                <div class="status-light blink"></div>
                <span id="status-text">SYSTEM ONLINE // SCANNING...</span>
            </div>
            <div class="compass-strip"></div>
        </div>

        <!-- Central Scanning Reticle -->
        <div id="scanning-reticle" class="reticle-container">
            <div class="corner top-left"></div>
            <div class="corner top-right"></div>
            <div class="corner bottom-left"></div>
            <div class="corner bottom-right"></div>
            <div class="scan-line"></div>
            <div class="reticle-text">SEARCHING TARGET</div>
        </div>

        <!-- Bottom Info Panel (Glassmorphism) -->
        <div id="info-panel" class="info-panel hidden">
            <div class="panel-header">
                <span class="panel-icon">üìç</span>
                <span class="panel-title">DESTINATION LOCKED</span>
            </div>
            <div class="panel-content">
                <h1 id="location-name">--</h1>
                <div class="panel-metrics">
                    <div class="metric">
                        <span class="label">DIST</span>
                        <span id="location-distance" class="value">--</span>
                    </div>
                    <div class="metric">
                        <span class="label">ETA</span>
                        <span class="value">2 MIN</span>
                    </div>
                </div>
                <!-- Navigation Instruction -->
                <div id="nav-instruction" class="nav-instruction">
                    --
                </div>
            </div>
        </div>

    </div>

    <!-- AR Scene 
         WebVR / WebXR Enabled:
         - vr-mode-ui: true (Enable "Enter VR" button)
         - webxr: dom-overlay (Keep HUD visible in VR)
         - embedded: true (For AR.js compatibility in normal mode)
    -->
    <a-scene embedded vr-mode-ui="enabled: true" webxr="optionalFeatures: dom-overlay; overlayElement: #ar-hud"
        renderer="logarithmicDepthBuffer: true; alpha: true; precision: medium;"
        arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">

        <!-- Virtual Environment (Sci-Fi Ground) -->
        <!-- Only visible in VR/3D mode, usually AR.js camera feed overlays this in AR mode -->
        <a-plane position="0 -1 0" rotation="-90 0 0" width="500" height="500" segments-width="50" segments-height="50"
            material="wireframe: true; color: #00f3ff; opacity: 0.1; transparent: true">
        </a-plane>

        <!-- Camera Rig for VR Support -->
        <a-entity id="rig" position="0 0 0">
            <!-- Camera -->
            <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>
            <!-- Controllers (Optional, for laser interaction if needed later) -->
            <a-entity oculus-touch-controls="hand: left"></a-entity>
            <a-entity oculus-touch-controls="hand: right"></a-entity>
        </a-entity>

        <!-- Dynamic Marker Container linked to JS -->

    </a-scene>

    <!-- App Logic -->
    <script src="js/script.js"></script>
</body>

</html>